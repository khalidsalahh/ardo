/* @khalidvsalah | Stabraq | v1.0.0 | MIT License | https://github.com/khalidvsalah/stabraq | https://www.khalidsalah.com */var A=Object.defineProperty;var bt=Object.getOwnPropertyDescriptor;var wt=Object.getOwnPropertyNames;var xt=Object.prototype.hasOwnProperty;var vt=(e,t)=>{for(var s in t)A(e,s,{get:t[s],enumerable:!0})},Mt=(e,t,s,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of wt(t))!xt.call(e,r)&&r!==s&&A(e,r,{get:()=>t[r],enumerable:!(i=bt(t,r))||i.enumerable});return e};var Vt=e=>Mt(A({},"__esModule",{value:!0}),e);var ae={};vt(ae,{bounds:()=>y,choke:()=>M,clamp:()=>d,computed:()=>V,cssSet:()=>$,ease:()=>g,has:()=>B,iSet:()=>m,late:()=>w,lerp:()=>f,line:()=>ct,map:()=>z,props:()=>b,query:()=>u,raf:()=>k,remap:()=>R,round:()=>v,scroll:()=>nt,scrub:()=>Y,sub:()=>a,tween:()=>P,zero:()=>E});module.exports=Vt(ae);var $t={l:e=>e,i1:e=>1-Math.cos(e*Math.PI/2),o1:e=>Math.sin(e*Math.PI/2),io1:e=>-(Math.cos(Math.PI*e)-1)/2,i2:e=>Math.pow(e,2),o2:e=>1-(1-e)*(1-e),io2:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,i3:e=>Math.pow(e,3),o3:e=>1-Math.pow(1-e,3),io3:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,i4:e=>Math.pow(e,4),o4:e=>1-Math.pow(1-e,4),io4:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,i5:e=>Math.pow(e,5),o5:e=>1-Math.pow(1-e,5),io5:e=>e<.5?16*Math.pow(e,5):1-Math.pow(-2*e+2,5)/2,i6:e=>e===0?0:Math.pow(2,10*e-10),o6:e=>e===1?1:1-Math.pow(2,-10*e),io6:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,i7:e=>1-Math.sqrt(1-Math.pow(e,2)),o7:e=>sqrt(1-Math.pow(e-1,2)),io7:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},g=$t;var E=(e,t)=>Math.max(e,t),d=(e,t,s)=>Math.min(Math.max(e,s),t),f=(e,t,s)=>(1-s)*e+s*t,z=(e,t,s)=>d(0,1,(s-e)/(t-e)),R=(e,t,s,i,r)=>z(e,t,r)*(i-s)+s,v=(e,t)=>{let s=t?Math.pow(10,t):100;return Math.round(e*s)/s};var B=(e,t)=>window.hasOwnProperty.call(e,t),y=e=>{let t=e.getBoundingClientRect();return{w:t.width,h:t.height,x:t.x,y:t.y,xE:t.right,yE:t.bottom}},V=e=>window.getComputedStyle(e),$={alpha:(e,t)=>e.style.opacity=t,display:(e,t)=>e.style.display=t,pointer:(e,t)=>e.style.pointerEvents=t,position:(e,t)=>e.style.position=t,visible:(e,t)=>e.style.visibility=t,form:(e,t,s,i)=>e.style.transform=`translate3d(${s+t},${i+t},0)`},u={id:e=>document.getElementById(e),el:e=>document.querySelector(e),els:e=>[...document.querySelectorAll(e)],sEl:(e,t)=>e.querySelector(t),sEls:(e,t)=>[...e.querySelectorAll(t)],node:e=>document.createElement(e),text:e=>document.createTextNode(e)},m={get size(){return{w:window.innerWidth,h:window.innerHeight}},string:e=>JSON.stringify(e)},M=class{constructor({late:t,cb:s}){this.late=t*1e3,this.cb=s,this.time=0}run(){clearTimeout(this.time),this.time=setTimeout(this.cb,this.late)}};var kt=(e,t)=>{let s={s:+t.opacity,e:e[0]};return s.lerp=s.e-s.s,i=>`${s.s+s.lerp*i}`},zt=(e,t)=>e.style.opacity=t,J={cb:kt,setValue:zt};var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},St=/([astvzqmhlc])([^astvzqmhlc]*)/gi,Et=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function Pt(e){let t=e.match(Et);return t?t.map(Number):[]}function _(e){let t=[];return e.replace(St,function(s,i,r){let o=i.toLowerCase();for(r=Pt(r),o==="m"&&r.length>2&&(t.push([i].concat(r.splice(0,2))),o="l",i=i==="m"?"l":"L");;){if(r.length===C[o])return r.unshift(i),t.push(r);if(r.length<C[o])throw new Error("malformed path data");t.push([i].concat(r.splice(0,C[o])))}}),t}var qt=(e,t)=>{let s=_(t.el.getAttribute("d")),i=_(e[0]);return r=>{let o="",h="";for(let n=0;n<s.length;n++){let l=s[n],p=i[n];for(let c=0;c<l.length;c++)o+=(isNaN(l[c])?l[c]:f(l[c],p[c],r))+" ";h=o.trim()}return h}},Tt=(e,t)=>e.setAttribute("d",t),G={cb:qt,setValue:Tt};var At=(e,t)=>{let s=t.el.getTotalLength();t.el.style.strokeDasharray=s;let i={s:e[0]*s,e:e[1]*s};return i.lerp=i.e-i.s,r=>`${i.s+i.lerp*r}`},Ct=(e,t)=>e.style.strokeDashoffset=t,K={cb:At,setValue:Ct};var Q=e=>{let t=[],s=e.split(" "),i=s.length;for(let r=0;r<i;r++){let o=s[r].split(","),h=o.length;for(let n=0;n<h;n++){let l=o[n];t.push(isNaN(l)?l:+l)}}return t},Nt=(e,t)=>{let s=Q(t.el.getAttribute("points")),i=Q(e[0]);return r=>{let o="",h="";for(let n=0;n<s.length;n++)o+=f(s[n],i[n],r)+" ",h=o.trim();return h}},It=(e,t)=>e.setAttribute("points",t),U={cb:Nt,setValue:It};var Ot=(e,t)=>{let s;if(t.top==="auto")s={s:0,e:e[0],unit:e[1]||"px"};else{let i=parseFloat(t.top);s={s:e[1]==="px"?i:i/y(t.pa).h*100,e:e[0],unit:e[1]||"px"}}return s.lerp=s.e-s.s,i=>`${s.s+s.lerp*i}${s.unit}`},Xt=(e,t)=>e.style.top=t,Z={cb:Ot,setValue:Xt};var Yt=(e,t,s)=>{let i=e.x,r=t?+t[4]:0,o;return t?o={s:i?i[1]==="px"?r:r/parseFloat(s)*100:r,e:i?i[0]:r}:o={s:0,e:i?i[0]:0},o.lerp=o.e-o.s,o.unit=i&&i[1]?i[1]:"px",o},Ft=(e,t,s)=>{let i=e.y,r=t?+t[5]:0,o;return t?o={s:i?i[1]==="px"?r:r/parseFloat(s)*100:r,e:i?i[0]:r}:o={s:0,e:i?i[0]:0},o.lerp=o.e-o.s,o.unit=i&&i[1]?i[1]:"px",o},jt=(e,t)=>{let s=e.sx,i;return t?i={s:+t[0],e:s?s[0]:+t[0]}:i={s:1,e:s?s[0]:1},i.lerp=i.e-i.s,i},Ht=(e,t)=>{let s=e.sy,i;return t?i={s:+t[3],e:s?s[0]:+t[3]}:i={s:1,e:s?s[0]:1},i.lerp=i.e-i.s,i},Lt=e=>{let t=e.rx,s={s:t?t[0]:0,e:t?t[1]:0};return s.lerp=s.e-s.s,s},Dt=e=>{let t=e.ry,s={s:t?t[0]:0,e:t?t[1]:0};return s.lerp=s.e-s.s,s},Wt=e=>{let t=e.match(/^matrix3d\((.+)\)$/),s=e.match(/\((.+)\)$/);return t?(s=t[1].split(", "),s=[s[0],s[1],s[4],s[5],s[12],s[13]]):s&&(s=s[1].split(", ")),s},Rt=(e,{transform:t,width:s,height:i})=>{let r=e[0],o=Wt(t),h=Yt(r,o,s),n=Ft(r,o,i),l=jt(r,o),p=Ht(r,o),c=Lt(r,o),W=Dt(r,o);return x=>{let dt=`${h.s+h.lerp*x}${h.unit}`,ft=`${n.s+n.lerp*x}${n.unit}`,ut=`${l.s+l.lerp*x}`,mt=`${p.s+p.lerp*x}`,gt=`${c.s+c.lerp*x}deg`,yt=`${W.s+W.lerp*x}deg`;return`translate3d(${dt}, ${ft}, 0) scale(${ut}, ${mt}) rotateX(${gt}) rotateY(${yt})`}},Bt=(e,t)=>e.style.transform=t,tt={cb:Rt,setValue:Bt};var Jt=(e,t)=>{let s;return t.filter==="none"?s={s:0,e:e[0]}:s={s:+t.filter.match(/(\d.*)px/)[1],e:e[0]},s.lerp=s.e-s.s,i=>s.s+s.lerp*i},_t=(e,t)=>e.style.filter=`blur(${t}px)`,et={cb:Jt,setValue:_t};var Gt=(e,t)=>{let s=parseFloat(t.width),i={s:e[1]==="px"?s:s/t.pa.clientWidth*100,e:e[0],unit:e[1]==="px"?"px":"%"};return i.lerp=i.e-i.s,r=>`${i.s+i.lerp*r}${i.unit}`},Kt=(e,t)=>e.style.width=t,st={cb:Gt,setValue:Kt};var Qt=(e,t)=>{let s=parseFloat(t.height),i={s:e[1]==="px"?s:s/t.pa.clientHeight*100,e:e[0],unit:e[1]==="px"?"px":"%"};return i.lerp=i.e-i.s,r=>`${i.s+i.lerp*r}${i.unit}`},Ut=(e,t)=>e.style.height=t,it={cb:Qt,setValue:Ut};var Zt=[[/^(form)$/,tt],[/^(a)$/,J],[/^(dash)$/,K],[/^(points)$/,U],[/^(d)$/,G],[/^(top)$/,Z],[/^(blur)$/,et],[/^(width)$/,st],[/^(height)$/,it]],N=Zt;function I(e){let t=N.length;for(let s=0;s<t;s++){let i=N[s];if(e.match(i[0]))return i[1]}}function te(e,t){let s=[],i=V(e),r=t.dir==-1;i.el=e,i.pa=e.parentNode;for(let o of Object.entries(t)){if(o[0]=="dir")continue;let h=I(o[0]),n=h.cb(o[1],i),l=o[1].length,p=o[1][l-1];typeof p=="object"?p.ease?p=g[p.ease]:p=g[t.ease||"l"]:p=g[t.ease||"l"],s.push({setV:h.setValue,cb:c=>n(p(r?1-c:c))})}return r&&s.map(({setV:o,cb:h})=>o(e,h(0))),s}function ee(e,t){let s=[];for(let i in t){let r={s:e[i]};r.lerp=t[i][0]-r.s,s.push({setV:(o,h)=>o[i]=h,cb:o=>r.s+r.lerp*o})}return s}function se(e,t,s){return t?ee(e,s):te(e,s)}var b=se;var O=class{constructor(){this.items=[],this.id=-1}push(t){return t.id=++this.id,this.items.push(t),this.on||this.loop(),t.id}update(t){for(let s=0;s<this.items.length;s++){let i=this.items[s];if(i.d){i.st||(i.st=t);let r=(t-i.st)/(i.d*1e3),o=d(0,1,r);(i.cb(o)||o===1)&&this.kill(i.id)}else i.cb(t)}this.loop()}kill(t){this.items.map((s,i)=>{s.id===t&&(s.id=null,s.st=null,this.items.splice(i,1))})}loop(){this.items.length===0?(this.on=!1,window.cancelAnimationFrame(this.raf)):(this.on=!0,this.raf=window.requestAnimationFrame(this.update.bind(this)))}},k=new O;var X=class{constructor(){this.observers={}}obs(t){this.observers[t]={items:[],id:0};function s(){let r=this[t],o=Array.prototype.slice.call(arguments);for(let h=0;h<r.items.length;h++)r.items[h].cb(...o)}let i=r=>{this.observers[r].items=[]};return{cb:s.bind(this.observers),name:t,r:i.bind(this,t)}}add(t,s){this.observers[t]||console.error(t);let i=this.observers[t].items,r=this.observers[t].id++,o={cb:s,id:r,on:!0};return i.push(o),{item:o,r:(n=>{for(let l=0;l<i.length;l++)i[l].id==n.id&&(i[l].on=!1,i.splice(l,1))}).bind({},o)}}check(t){return!!this.observers[t]}},a=new X;function Y(e){let t=document.createElement("section"),s={start:0,end:0,lerp:.75};t.style.cssText=` position: fixed; height: 32px; width: 32px; display: flex; align-items: center; justify-content: center; font-size: 12px; background: #333; color: #fff; border-radius: 50%; pointer-events: none; `,a.add("pointermove",i=>{let r=v(i.pageX/m.size.w);t.style.top=i.pageY+-30+"px",t.style.left=i.pageX+-30*r+"px",t.textContent=r,s.start=d(0,.99999,r)}),a.add("raf",()=>{s.end=f(s.start,s.end,s.lerp),e(s.end)}),document.body.appendChild(t)}var w=class{constructor({late:t,o:s,cb:i}){this.d=t||0,this.o=s,this.cb=i,this.on=!1,this.stop=!1}play(){this.on=!0,this.stop=!1,this.d==0?this.Elp():(this.id=k.push({cb:this.loop.bind(this)}),this.f=performance.now()+this.d*1e3)}destroy(){this.stop=!0,this.on=!1}loop(t){t>this.f&&(k.kill(this.id),this.Elp())}Elp(){this.stop||(this.on=!1,k.push(this.o),this.cb&&this.cb())}};function F(e){this.obj=!1,e instanceof Node?this.target=e:typeof e=="string"?this.target=u.el(e):(this.obj=!0,this.target=e)}var rt=new Map;function j(e){let t=rt.get(e);return t||(rt.set(e,this),!1)}var H=class{constructor(t,s){let i=j.call(this,t);if(!i)F.call(this,t),this.init(s);else return i}init(t){this.o=t,this.mode,this.prog=0,this.elapsed=0,this.dir=0,this.d=t.d,this.late=t.late,this.oProps=t.p,this.lateO={cb:this.run.bind(this),d:this.d},this.late=new w({late:this.late,o:this.lateO}),this.props=b(this.target,this.obj,t.p)}run(t){this.on=!0,this.elapsed=d(0,1,this.prog+t);let s=Math.abs(this.dir-this.elapsed);if(this.props.map(({setV:i,cb:r})=>i(this.target,r(s))),this.raf&&this.raf(s,this.target),this.elapsed==1)return this.destroy()}control(t,s){this.late.on&&this.mode!==t&&(this.mode=t,this.late.destroy()),this.mode!==t&&(this.mode=t,t==="r"?this.dir=1:this.dir=0,this.late.cb=()=>this.start&&this.start(this.target),!this.late.on&&(this.on?(this.lateO.st=null,s?this.prog=0:this.prog=1-this.elapsed):this.late.play()))}reverse(t){this.late.d=t.late||this.late.d,this.index===0&&(this.start=t.start,this.completed=t.completed,this.raf=t.raf),this.control("r")}play(t,s){this.index=s,this.index===0&&(this.start=t.start,this.completed=t.completed,this.raf=t.raf),m.string(this.oProps)!=m.string(t.p)?(this.late.d=t.late||0,this.lateO.d=t.d,this.oProps=t.p,this.props=b(this.target,this.obj,t.p),this.mode="r",this.control("p",!0)):this.control("p")}destroy(){return this.on=!1,this.prog=0,this.completed&&this.completed(this.target),!0}},ot=H;function ie(e,t){let s;e instanceof NodeList||Array.isArray(e)?s=[...e]:s=[e];let i=s.map((o,h)=>{let n=(t.late||0)+(t.space*h||0);return new ot(o,{...t,late:n})});i.map((o,h)=>o.play(t,h));let r=i.map(o=>o.late.d);return{reverse:(o={})=>{let h=(t.late||0)-o.late;i.map((n,l)=>{o.late=r[l]-h,n.reverse(o)})},play:()=>i.map((o,h)=>o.play(t,h))}}var P=ie;var q=(e,t)=>{let s=e.match(/(\+|\-)(.*)/);if(s){if(s[1]=="+")return t+ +s[2];if(s[1]=="-")return t-+s[2]}else return+e},L=class{constructor(t,s,i){this.el=t,this.target=s.target,this.o=s,this.dir=i,this.dirE=i=="y"?"yE":"xE",this.Init(s)}Init(t){if(t.target||(this.target=this.el),t.scroll){let s=t.target.length?t.target[0]:t.target;this.ps=b(s,!1,t.scroll),this.ease=g[t.ease||"l"]}t.pin&&(this.pin=t.pin,this.pin.target=t.pin.target||this.target),this.iresize=a.add("resize",this.resize.bind(this)),this.resize(),this.iraf=a.add(t.obsname,this.raf.bind(this))}resize(){let t=y(this.el.length?this.el[0]:this.el);this.sp=q(this.o.start||"+0",t[this.dir]),this.ep=q(this.o.end||"+0",t[this.dirE]),this.o.pin&&(this.pin.start=q(this.pin.a||"+0",t[this.dir]),this.pin.end=q(this.pin.z||"+0",t[this.dirE]))}raf(t){this.coord=t[this.dir];let s=this.sp,i=this.ep;if(this.o.scroll){(i<this.coord||s>this.coord)&&(this.in=!1),s<=this.coord&&(this.in=!0);let r=z(s,i,this.coord);this.in&&this.scroll(r),this.o.pin&&this.piner(),this.o.raf&&this.o.raf(this.o.target,this.coord)}else s<=this.coord&&this.fire()}scroll(t){this.ps.map(s=>{this.o.target.length?this.o.target.forEach(i=>s.setV(i,s.cb(this.ease(t)))):s.setV(this.o.target,s.cb(this.ease(t)))})}fire(){this.o.tween&&P(this.target,this.o.tween),this.o.completed&&this.o.completed(this.target),this.destroy()}piner(){if(this.pined&&!(this.coord>=this.pin.end)){let t=E(0,this.coord-this.pin.pxS);this.pin.target.style.transform=`translate3d(${this.dir?"0px,"+t+"px":t+"px,0px"},0px)`}this.coord<this.pin.start?this.pined=!1:this.coord>=this.pin.start&&!this.pined&&(this.pin.pxS=this.coord,this.pined=!0)}destroy(){this.iraf.r(),this.iresize.r()}},ht=L;var D=class{constructor(t,s){history.scrollRestoration="manual",this.attacher=t,this.target=s.target,this.ease=s.ease||.09,this.dir=s.dir?s.dir:"y",this.ePage=this.dir=="y"?"pageY":"pageX",this.o=s,this.Init(s),this.sub=a.obs(s.obs||Symbol("foo")),this.time=new Date().getTime(),this.offset=0,this.chokeEl=u.el("[overlay]"),this.choke=new M({late:.3,cb:()=>$.pointer(this.chokeEl,"none")})}Init(t){this.attacher==window?(t.drag!==!1&&(this.ipointerdown=a.add("pointerdown",this.down.bind(this)),this.ipointermove=a.add("pointermove",this.move.bind(this))),t.key!==!1&&(this.ikey=a.add("keydown",this.key.bind(this))),t.wheel!==!1&&(this.iwheel=a.add("wheel",this.wheel.bind(this)))):(t.drag!==!1&&(this.attacher.onpointerdown=this.down.bind(this),this.attacher.onpointermove=this.move.bind(this)),t.wheel!==!1&&(this.attacher.onwheel=this.wheel.bind(this))),this.ipointerup=a.add("pointerup",this.up.bind(this)),this.iresize=a.add("resize",this.resize.bind(this)),this.drag={x:0,y:0},this.prev={x:0,y:0},this.scroll={x:0,y:0},this.dist={x:{start:0,end:0},y:{start:0,end:0}}}begin(){(!this.iraf||!this.iraf.item.on)&&(this.iraf=a.add("raf",this.raf.bind(this)))}wheel(t){this.begin();let s=t.deltaMode==1?.83:.55;this.time=t.timeStamp-this.time,this.offset=this.drag[this.dir],this.drag[this.dir]-=t.wheelDeltaY*s;let i=this.drag[this.dir]-this.offset;this.scroll.sp=Math.abs(i/this.time),this.scroll.dir=Math.sign(i),this.time=t.timeStamp}down(t){$.pointer(this.chokeEl,"all"),this.downOn=!0,this.dist[this.dir].start=t[this.ePage],this.prev[this.dir]=this.drag[this.dir]}move(t){if(this.downOn){this.begin(),this.time=t.timeStamp-this.time,this.offset=this.drag[this.dir],this.drag[this.dir]+=-(t[this.ePage]-this.dist[this.dir].start),this.dist[this.dir].start=t[this.ePage];let s=this.drag[this.dir]-this.offset;this.scroll.sp=Math.abs(s/this.time),this.scroll.dir=Math.sign(s),this.time=t.timeStamp}}key(t){if(t.keyCode==40||t.keyCode==38){this.begin();let s=0;t.keyCode==40?s=-66.6:t.keyCode==38&&(s=66.6),this.drag[this.dir]-=s}}up(){this.downOn=!1,this.choke.run()}add(t,s){s.obsname=this.sub.name;let i=new ht(t,s,this.dir);return this.begin(),i}raf(){this.drag[this.dir]=d(0,this.pageSize<0?0:this.pageSize,this.drag[this.dir]),this.scroll[this.dir]=f(this.scroll[this.dir],this.drag[this.dir],this.ease),$.form(this.target,"px",-this.scroll.x,-this.scroll.y),this.sub&&this.sub.cb(this.scroll),v(this.scroll[this.dir],2)==this.drag[this.dir]&&this.iraf.r()}resize(){this.bs=y(this.target);let t=m.size;this.dir=="y"?this.pageSize=this.bs.h-t.h:this.pageSize=this.bs.w-t.w}destroy(){this.iraf&&this.iraf.r(),this.sub&&this.sub.r(),this.attacher===window?(this.ipointerdown&&(this.ipointerdown.r(),this.ipointermove.r()),this.ikey&&this.ikey.r(),this.iwheel&&this.iwheel.r()):(this.o.drag!==!1&&(this.attacher.onpointerdown=null,this.attacher.onpointermove=null),this.o.wheel&&(this.attacher.onwheel=null)),this.ipointerup.r(),this.iresize.r()}},nt=D;var T=" ";function re(e,t){document.body.append(e),e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="nowrap",e.style.fontFamily=t.getPropertyValue("font-family"),e.style.fontSize=t.getPropertyValue("font-size"),e.style.fontWeight=t.getPropertyValue("font-weight"),e.style.textTransform=t.getPropertyValue("text-transform"),e.style.letterSpacing=t.getPropertyValue("letter-spacing"),e.style.lineHeight=t.getPropertyValue("line-height")}function lt(e){let t=e.childNodes,s=[];for(let i=0;i<t.length;i++)s.push(oe(t[i]));return s}function oe(e){let t;return e.nodeType===3?t={value:e.nodeValue.split(" "),type:3}:t={value:lt(e),type:1,node:e},t}function at(e){for(let t=0;t<e.length;t++){let s=e[t];if(s.type===3){let i=[];for(let r=0;r<s.value.length;r++)s.value[r]=s.value[r].replace(/\n/g,""),s.value[r]!==""&&i.push(s.value[r]);s.value=i}else at(s.value)}}function pt(e,t,s){if(s.words){let i=e.words.length,r;s.ltrs?r=e.words.reduce((o,h,n)=>{let l="";for(let p=0;p<h.length;p++)l+=S(h[p],3);return o+S(l+(n==i-1?"":T),2)},""):r=e.words.reduce((o,h,n)=>o+S(h+(n==i-1?"":T),2),""),t.push({line:S(r,1)})}else t.push({line:S(e.value,1)})}function S(e,t){if(t===1)return`<div class="tfx"><span>${e}</span></div>`;if(t===2)return`<span class="word">${e}</span>`;if(t===3)return`<span class="ltr">${e}</span>`}function he(e,t,s,i,r,o){for(let h=0;h<e.length;h++){let n=e[h];t.value+=n,s.innerHTML=t.value,t.words.push(n),s.offsetWidth>i&&(t.words.pop(),pt(t,r,o),t.value=n,t.words=[n+T]),t.value+=T}}function ne(e,t,s,i){let r={value:"",words:[]},o=[];for(let h=0;h<e.length;h++){let n=e[h];n.type===3&&he(n.value,r,t,s,o,i)}return pt(r,o,i),o}function le(e,t){let s=V(e),i=document.createElement("div");t.ltrs&&(t.words=!0),re(i,s);let r=e.offsetWidth,o=lt(e);at(o);let h=ne(o,i,r,t);return e.innerHTML="",document.body.removeChild(i),h.map(({line:n})=>e.innerHTML+=n),{lines:u.sEls(e,".tfx"),words:u.sEls(e,".word"),ltrs:u.sEls(e,".ltr")}}var ct=le;
