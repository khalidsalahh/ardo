var C={l:s=>s,i1:s=>1-Math.cos(s*Math.PI/2),o1:s=>Math.sin(s*Math.PI/2),io1:s=>-(Math.cos(Math.PI*s)-1)/2,i2:s=>Math.pow(s,2),o2:s=>1-(1-s)*(1-s),io2:s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,i3:s=>Math.pow(s,3),o3:s=>1-Math.pow(1-s,3),io3:s=>s<.5?4*s*s*s:1-Math.pow(-2*s+2,3)/2,i4:s=>Math.pow(s,4),o4:s=>1-Math.pow(1-s,4),io4:s=>s<.5?8*s*s*s*s:1-Math.pow(-2*s+2,4)/2,i5:s=>Math.pow(s,5),o5:s=>1-Math.pow(1-s,5),io5:s=>s<.5?16*Math.pow(s,5):1-Math.pow(-2*s+2,5)/2,i6:s=>0===s?0:Math.pow(2,10*s-10),o6:s=>1===s?1:1-Math.pow(2,-10*s),io6:s=>0===s?0:1===s?1:s<.5?Math.pow(2,20*s-10)/2:(2-Math.pow(2,-20*s+10))/2,i7:s=>1-Math.sqrt(1-Math.pow(s,2)),o7:s=>sqrt(1-Math.pow(s-1,2)),io7:s=>s<.5?(1-Math.sqrt(1-Math.pow(2*s,2)))/2:(Math.sqrt(1-Math.pow(-2*s+2,2))+1)/2},w=(s,t,e)=>Math.min(Math.max(s,e),t),$=(s,t,e)=>(1-e)*s+e*t,V=(s,t)=>{t=t?Math.pow(10,t):100;return Math.round(s*t)/t},u=(s,t)=>window.hasOwnProperty.call(s,t),E=s=>s.getBoundingClientRect(),I=class{constructor(){this.store=new Map}set(s,t){this.store.set(s,t)}get(s){return this.store.get(s)}},A=I,T=class{constructor(){this.subs={}}subF(s){return this.subs[s]={cb:null,items:[]},this.subs[s].cb=function(){var t=Array.prototype.slice.call(arguments);for(let s=0;s<this.items.length;s++)this.items[s].cb(...t)}.bind(this.subs[s]),{cb:this.subs[s].cb,name:s}}subC(s,t){return this.subs[s].items.push({cb:t,id:this.subs[s].items.length+s}),this.subs[s].items.length-1+s}subCR(s,t){var e;null==t.match(s)?console.error(t+" is not in "+s):(e=this.subs[s].items,this.subs[s].items=e.filter(({id:s})=>s!==t))}subCheck(s){return!!this.subs[s]}},a=new T,g=class{constructor({delay:s,cb:t}){this.delay=1e3*s,this.cb=t,this.time=0}run(){clearTimeout(this.time),this.time=setTimeout(this.cb,this.delay)}},M=class{constructor({delay:s,o:t,elapsed:e}){this.delay=s,this.o=t,this.elapsed=e}play(){this.index=c.push({completed:this.Elapsed.bind(this),d:this.delay}),c.play()}Elapsed(){this.elapsed&&this.elapsed(),this.o&&c.push(this.o),c.play()}remove(){c.kill(this.index)}},k=class{constructor(){this.items=[],this.on=!1}push(s){return Array.isArray(s)?s.map(s=>(this.items.push(s),this.items.length-1)):"object"==typeof s?(this.items.push(s),this.items.length-1):void console.error("Failed To Push Object")}update(t){for(let s=0;s<this.items.length;s++){var e,i=this.items[s];!i.st&&-1!==i.d&&(i.st=t,i.start)&&i.start(),0===i.d&&(i.completed&&i.completed(),this.items.splice(s,1)),i.pause?(i.elapsed=i.elapsed?1-i.elapsed:1,i.d=i.paused?i.d:i.elapsed*i.d,i.st=t-i.d*i.elapsed,i.paused=!0):-1===i.d?i.cb(t):0<i.d&&(e=(t-i.st)/(1e3*i.d),i.elapsed=w(0,1,e),i.cb&&i.cb(i.elapsed)&&(i.elapsed=1),1===i.elapsed)&&(i.completed&&i.completed(),this.items.splice(s,1))}this.loop()}kill(s){Array.isArray(s)?s.map(s=>{this.items[s].cb&&this.items[s].cb(this.elapsed),this.items.splice(s,1)}):"number"==typeof s?(this.items[s].cb&&this.items[s].cb(this.elapsed),this.items.splice(s,1)):console.error("You Need To Pass Array or Number")}loop(){0===this.items.length?(this.on=!1,window.cancelAnimationFrame(this.raf)):(this.on=!0,this.raf=window.requestAnimationFrame(this.update.bind(this)))}play(){this.on||this.loop()}},c=new k,R=class{constructor(){this.cache=new Map}match(s){return s.match(/(?:\w+:)?\/\/[^\/]+([^?#]+)/)}async xhr({url:s,push:t,post:e,isText:i,compile:h}){if(this.cache.get(s))return t&&window.history.pushState({},"",s),{...this.cache.get(s),stored:!0};try{h&&(a=new Request(s,{headers:new Headers({"Content-type":i?"application/x-ww-form-urlencodeed":"text/html"}),method:e?"POST":"GET",mode:"cors"}),r=await fetch(a),o=i?await r.json():await r.text()),t&&window.history.pushState({},"",s);var a,r,o,l=this.match(s),n={url:l?l[1]:s,data:h?o:"",stored:!1};return this.cache.set(s,n),n}catch(s){console.error("Failed To Get The Data",s.message)}}store(s,t){var e=this.match(s),e={url:e?e[1]:s,data:t,stored:!0};this.cache.set(s,e)}},D=new R;function N(s,t){for(var e in t)e.match(/^on/)?s.addEventListener(e.match(/[A-Z](.*)/)[0].toLowerCase(),t[e]):s.setAttribute(e,t[e])}function F(s){let t;return"string"==typeof s||"number"==typeof s?t=document.createTextNode(s):(t=document.createElement(s.type),s.props&&N(t,s.props),s.content&&("string"==typeof s.content||"number"==typeof s.content?t.appendChild(F(s.content)):s.content.map(F).forEach(t.appendChild.bind(t)))),t}function G(s,t={}){return s.appendChild(F(t))}var J=G,U={transform:(t,e,s,i,h)=>{let a,r,o,l,n="none"!==h.transform&&h.transform.match(/\((.+)\)$/)[1].split(", ");return r=n?(a={s:"px"===t[1]?+n[4]:+n[4]/parseFloat(h.width)*100,e:t?(t[1],t[0]):0,unit:t[1]||"px"},{s:"px"===e[1]?+n[5]:+n[5]/parseFloat(h.height)*100,e:e?(e[1],e[0]):0,unit:e[1]||"px"}):(a={s:0,e:t[0],unit:t[1]||"px"},{s:0,e:e[0],unit:e[1]||"px"}),o={s:n?+n[0]:s[0]||1,e:s[1]||1},l={s:n?+n[3]:i[0]||1,e:i[1]||1},a.lerp=a.e-a.s,r.lerp=r.e-r.s,o.lerp=o.e-o.s,l.lerp=l.e-l.s,t&&e||t.lerp&&t.lerp?s=>{return`translate3d(${t?""+(a.s+a.lerp*s)+a.unit:a.s+a.unit}, ${e?""+(r.s+r.lerp*s)+r.unit:r.s+r.unit}, 0) scale(${""+(o.s+o.lerp*s)}, ${""+(l.s+l.lerp*s)})`}:t?s=>{return`translateX(${""+(a.s+a.lerp*s)+a.unit}) scale(${""+(o.s+o.lerp*s)}, ${""+(l.s+l.lerp*s)})`}:e?s=>{return`translateY(${""+(r.s+r.lerp*s)+r.unit}) scale(${""+(o.s+o.lerp*s)}, ${""+(l.s+l.lerp*s)})`}:void 0},opacity:(s,t)=>{let e={s:+t.opacity,e:s[0]};return e.lerp=e.e-e.s,s=>""+(e.s+e.lerp*s)},pointer:s=>()=>s,display:s=>()=>s,top:(t,s,e)=>{let i={s:"px"===t[1]?parseFloat(s.top):parseFloat(s.top)/e*100,e:t[0]};return i.lerp=i.e-i.s,s=>""+(i.s+i.lerp*s)+t[1]}},v=U;function Y(s){if(this.results=[],s)for(let s=0;s<this.keys.length;s++){var e=this.keys[s],i=+this.elements[0][this.keys[s]];this.results.push({name:e,cb:(()=>{var t={s:i||this.props[e][0],e:this.props[e][1]};return t.lerp=this.props[e][1]-this.props[e][0],s=>t.s+t.lerp*s})()})}else{let i,h,a,r,o,l,n,p;i=u(this.props,"x")&&this.props.x,h=u(this.props,"y")&&this.props.y,l=u(this.props,"sx")&&this.props.sx,n=u(this.props,"sy")&&this.props.sy,p=u(this.props,"t")&&this.props.t,a=u(this.props,"opacity")&&this.props.opacity,r=u(this.props,"pointer")&&this.props.pointer,o=u(this.props,"display")&&this.props.display,this.elements.map(s=>{var t=window.getComputedStyle(s),e=s.parentNode.clientHeight;(i||h||l||n)&&this.results.push({name:"transform",element:s,cb:v.transform(i,h,l,n,t)}),p&&this.results.push({name:"top",element:s,cb:v.top(p,t,e)}),r&&this.results.push({name:"pointerEvents",element:s,cb:v.pointer(r)}),o&&this.results.push({name:"display",element:s,cb:v.display(o)}),a&&this.results.push({name:"opacity",element:s,cb:v.opacity(a,t)})})}}function x(s){var t,e=[];return"string"==typeof s?0===(t=document.querySelectorAll(s)).length?console.error("Found no element"):e=new Array(...t):(s instanceof window.HTMLElement||"object"==typeof s)&&e.push(s),e}var L=new A;function W(s,t){var e=L.get(s);e?JSON.stringify(e.o.p)===JSON.stringify(t.o.p)?t.played=!0:(e.kill(),L.set(s,t)):L.set(s,t)}var H=class{constructor(){this.stop=!1,this.played=!1}to(s,t,e){this.obj=e;e=x(this.element=s);return this.elements=Array.isArray(e)?e:[e],this.o=t,this.d=this.o.d||.5,this.del=this.o.delay||0,this.cbO={cb:this.run.bind(this),d:this.d,completed:this.o.completed},this.ease=this.o.ease?C[this.o.ease]:C.l,this.props=this.o.p,this.keys=Object.keys(this.props),this.delay=new M({delay:this.del,o:this.cbO}),W(s,this),this}run(s){return this.e=Math.abs(this.ease(s)-this.reEase),this.results.map(s=>{this.obj?this.elements[0][s.name]=s.cb(this.e):s.element.style[s.name]=s.cb(this.e)}),1===s&&(this.stop=!0),this.stop}reverse(){this.played=!1,this.stop=!1,this.o.p={},this.play("r")}pause(){this.delay.o.pause=!0}resume(){this.delay.o.pause=!1}kill(){this.stop=!0}play(s){this.delay.o.st=null,"r"===s?(this.reEase=1,this.delay.elapsed=null):(this.reEase=0,this.delay.elapsed=()=>Y.call(this,this.obj)),this.played||this.delay.play()}},j=H;function Z(i){let s,t,e=(this.items.length&&(s=this.items[this.items.length-1].tween.d,t=this.items[this.items.length-1].tween.del),s+t+(this.o.delay||0)),h=this.o.delay||0,a={...this.o,delay:(e||h)+ +this.time};this.selector.map((s,t)=>{var e=new j;0===t?this.items.push({tween:e.to(s,a,i),called:!1}):(t=this.items[t-1].tween.o.stagger||0,a.stagger=a.stagger+t,this.items.push({tween:e.to(s,{...a,delay:a.delay+t},i),called:!1}))})}function z(s,t,e){var i=!1;"object"!=typeof s||Array.isArray(s)||s instanceof HTMLElement?(i=!1,Array.isArray(s)?this.selector.push(...s):this.selector.push(s)):(i=!0,this.selector.push(s)),this.element=s,this.o=t,this.time=e,Z.call(this,i)}var X=z,O=class{constructor(){this.items=[],this.store=new Map,this.played=!1}to(s,t,e=0){if(this.selector=[],s&&t)return X.call(this,s,t,e),this;console.error(s?"You need to pass Object":"You need to pass Element")}pause(){this.items.map(s=>{s.tween.pause()})}resume(){this.items.map(s=>{s.tween.resume()})}reverse(){this.itemsReverse.reverse().map(s=>{s.tween.reverse()})}kill(){}play(){this.items.map(s=>{s.called||(s.tween.play(),s.tween.called=!0)}),this.selector=[],this.itemsReverse=this.items,this.items=[]}},P=O,q=class{constructor(s,{ease:t=.1,lerp:e=.1,drag:i=!0}={}){this.ele=s,this.e={x:0,y:0,lerp:t},this.mouse={x:0,y:0,lerp:e},this.drag={s:0,e:0,sp:0,ep:0,lerp:.1*t,on:!1},a.subCheck("wheel")||window.addEventListener("wheel",a.subF("wheel").cb),this.wId=a.subC("wheel",this.onWheel.bind(this)),i&&(a.subCheck("mousedown")||window.addEventListener("mousedown",a.subF("mousedown").cb),a.subCheck("mousemove")||window.addEventListener("mousemove",a.subF("mousemove").cb),a.subCheck("mouseup")||window.addEventListener("mouseup",a.subF("mouseup").cb),this.mdId=a.subC("mousedown",this.onMDown.bind(this)),this.mmId=a.subC("mousemove",this.onMM.bind(this)),this.muId=a.subC("mouseup",this.onMU.bind(this))),this.Bounds(),a.subCheck("raf")||(c.push({d:-1,cb:a.subF("raf").cb}),c.play()),this.rafId=a.subC("raf",this.raf.bind(this)),this.ScrollId=a.subF("scroll"),this.all=document.getElementById("all"),this.all||(this.all=document.createElement("div"),this.all.id="all",document.body.appendChild(this.all)),this.thr=new g({delay:.4,cb:()=>{this.all.style.pointerEvents="none"}})}Bounds(){this.bounds=E(this.ele)}onWheel(s){this.e.x+=s.deltaX*this.e.lerp,this.e.y+=s.deltaY*this.e.lerp,this.all.style.pointerEvents="all",this.thr.run()}onMDown(s){this.drag.on=!0,this.drag.s=s.pageY}onMM(s){this.drag.prev=this.drag.e,this.drag.e=s.pageY,this.drag.on&&(1===this.drag.d&&(this.drag.sp=this.drag.e),-1===this.drag.d&&(this.drag.ep=this.drag.e),s=this.drag.e-this.drag.s,this.drag.d=-1*Math.sign(this.drag.prev-this.drag.e),-1===this.drag.d&&(s=this.drag.e-this.drag.sp),1===this.drag.d&&(s=this.drag.e-this.drag.ep),this.e.y=-1*s*this.drag.lerp+this.e.y,this.all.style.pointerEvents="all",this.thr.run())}onMU(){this.drag.on=!1}add(s,e){s&&e||console.error("You need to provide a ele and o"),Array.isArray(s)?this.elements=s:this.elements=[s];var i=E(s),h=e.tw,r=a.subC(this.ScrollId.name,s=>{var t,s=s.y+window.innerHeight;e.s/100*window.innerHeight+i.top<=s&&(t=new P,this.elements.map(s=>{t.to(s,h),t.play()}),a.subCR(this.ScrollId.name,r))});return r}raf(){this.e.x=w(0,this.bounds.width,this.e.x),this.e.y=w(0,this.bounds.height-window.innerHeight,this.e.y),this.mouse.x=$(this.mouse.x,this.e.x,this.mouse.lerp),this.mouse.y=$(this.mouse.y,this.e.y,this.mouse.lerp),this.ele.style.transform=`translateY(${-this.mouse.y}px)`,this.ScrollId.cb(this.mouse)}destroy(){a.subCR("wheel",this.wId),this.mdId&&a.subCR("mousedown",this.mdId),this.mmId&&a.subCR("mousemove",this.mmId),this.muId&&a.subCR("mouseup",this.muId),a.subCR("raf",this.rafId)}},K=q;export{E as Bounds,w as Clamp,M as Delay,C as Ease,u as Has,$ as Lerp,J as Mount,c as Raf,V as Round,D as Route,K as Scroll,A as Store,a as Sub,P as TL,g as Throttle,j as Tween};