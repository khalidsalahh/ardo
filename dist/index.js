var c={l:t=>t,i1:t=>1-Math.cos(t*Math.PI/2),o1:t=>Math.sin(t*Math.PI/2),io1:t=>-(Math.cos(Math.PI*t)-1)/2,i2:t=>Math.pow(t,2),o2:t=>1-(1-t)*(1-t),io2:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,i3:t=>Math.pow(t,3),o3:t=>1-Math.pow(1-t,3),io3:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,i4:t=>Math.pow(t,4),o4:t=>1-Math.pow(1-t,4),io4:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,i5:t=>Math.pow(t,5),o5:t=>1-Math.pow(1-t,5),io5:t=>t<.5?16*Math.pow(t,5):1-Math.pow(-2*t+2,5)/2,i6:t=>0===t?0:Math.pow(2,10*t-10),o6:t=>1===t?1:1-Math.pow(2,-10*t),io6:t=>0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,i7:t=>1-Math.sqrt(1-Math.pow(t,2)),o7:t=>sqrt(1-Math.pow(t-1,2)),io7:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},d=(t,s,e)=>Math.min(Math.max(t,e),s),M=(t,s,e)=>(1-e)*t+e*s,I=(t,s)=>{s=s?Math.pow(10,s):100;return Math.round(t*s)/s},N=(t,s)=>window.hasOwnProperty.call(t,s),w=t=>t.getBoundingClientRect(),j=t=>{let s,e,i;if("object"!=typeof t||null===t)return t;for(i in s=Array.isArray(t)?[]:{},t)e=t[i],s[i]=j(e);return s},E=class{constructor(){this.store=new Map}set(t,s){this.store.set(t,s)}get(t){return this.store.get(t)}},C=E,k=class{constructor(){this.subs={}}obs(t){return this.subs[t]={cb:null,items:[]},this.subs[t].cb=function(){var s=Array.prototype.slice.call(arguments);for(let t=0;t<this.items.length;t++)this.items[t].cb(...s)}.bind(this.subs[t]),{cb:this.subs[t].cb,name:t}}add(t,s){return this.subs[t].items.push({cb:s,id:this.subs[t].items.length+t}),this.subs[t].items.length-1+t}remove(t,s){var e;null==s.match(t)?console.error(s+" is not in "+t):(e=this.subs[t].items,this.subs[t].items=e.filter(({id:t})=>t!==s))}check(t){return!!this.subs[t]}},l=new k,f=class{constructor({late:t,cb:s}){this.late=1e3*t,this.cb=s,this.time=0}run(){clearTimeout(this.time),this.time=setTimeout(this.cb,this.late)}},m=class{constructor({late:t,o:s,cb:e}){this.late=t||0,this.o=s,this.cb=e,this.on=!1,this.stop=!1}play(){this.on=!0,this.stop=!1,x.push({cb:this.run.bind(this)})}kill(){this.stop=!0,this.on=!1}run(t){this.st||(this.st=t);t=(t-this.st)/(1e3*this.late);if(1===(isFinite(t)?d(0,1,t):1))return this.Elapsed(),!0}Elapsed(){this.stop||(this.on=!1,this.st=null,this.o&&x.push(this.o),this.cb&&this.cb())}},$=class{constructor(){this.items=[],this.on=!1,this.id=-1}push(t){if("number"==typeof t.id&&this.kill(t.id),"object"==typeof t)return(t=t).id=++this.id,this.items.push(t),this.on||this.loop(),t.id;console.error("Failed To Push Object")}update(s){for(let t=0;t<this.items.length;t++){var e=this.items[t];e.cb&&e.cb(s)&&this.kill(e.id)}this.loop()}kill(e){"number"==typeof e?this.items.map((t,s)=>{t.id===e&&(t.id=null,this.items.splice(s,1))}):console.error("You Need To Pass Number")}loop(){0===this.items.length?(this.on=!1,window.cancelAnimationFrame(this.raf)):(this.on=!0,this.raf=window.requestAnimationFrame(this.update.bind(this)))}},x=new $,T=class{constructor(){this.cache=new Map}match(t){return t.match(/^(https?):\/\/([^/?#]+)(\/[^?#]*)?(\?[^#]*)?(#.*)?$/)}async xhr(t,s,e){if(this.cache.get(t))return{...this.cache.get(t)};try{var i=new Request(t,{headers:new Headers({"Content-type":e?"text/html":"application/x-ww-form-urlencodeed"}),method:s?"POST":"GET",mode:"cors"}),h=await fetch(i),r=e?await h.text():await h.json(),a={url:this.match(t),data:r};return this.cache.set(t,a),a}catch(t){console.error("Failed To Get The Data",t.message)}}store(t,s){s={url:this.match(t),data:s};this.cache.set(t,s)}},B=new T;function X(t,s){for(var e in s)e.match(/^on/)?t.addEventListener(e.match(/[A-Z](.*)/)[0].toLowerCase(),s[e]):t.setAttribute(e,s[e])}function L(t){let s;return"string"==typeof t||"number"==typeof t?s=document.createTextNode(t):(s=document.createElement(t.type),t.props&&X(s,t.props),t.content&&("string"==typeof t.content||"number"==typeof t.content?s.appendChild(L(t.content)):t.content.map(L).forEach(s.appendChild.bind(s)))),s}function D(t,s={}){return t.appendChild(L(s))}var W=D,G={transform:(t,s,e,i,h)=>{let r,a,l,o,n=h.transform,p;return 6<n.length&&(p=n.match(/\((.+)\)$/)[1].split(", ")),o=p?(r={s:"px"===t[1]?+p[4]:+p[4]/parseFloat(h.width)*100,e:t?t[0]:+p[4],unit:t[1]||"px"},a={s:"px"===s[1]?+p[5]:+p[5]/parseFloat(h.height)*100,e:s?s[0]:+p[5],unit:s[1]||"px"},l={s:+p[0],e:e?e[0]:1},{s:+p[3],e:i?i[0]:1}):(r={s:0,e:t[0]||0,unit:t[1]||"px"},a={s:0,e:s[0]||0,unit:s[1]||"px"},l={s:1,e:e[0]||1},{s:1,e:i[0]||1}),r.lerp=r.e-r.s,a.lerp=a.e-a.s,l.lerp=l.e-l.s,o.lerp=o.e-o.s,t=>{return`translate3d(${""+(r.s+r.lerp*t)+r.unit}, ${""+(a.s+a.lerp*t)+a.unit}, 0) scale(${""+(l.s+l.lerp*t)}, ${""+(o.s+o.lerp*t)})`}},opacity:(t,s)=>{let e={s:+s.opacity,e:t[0]};return e.lerp=e.e-e.s,t=>""+(e.s+e.lerp*t)},pointer:t=>()=>t,display:t=>()=>t,top:(s,t,e)=>{let i={s:"px"===s[1]?parseFloat(t.top):parseFloat(t.top)/e*100,e:s[0]};return i.lerp=i.e-i.s,t=>""+(i.s+i.lerp*t)+s[1]}},g=G;function v(){if(this.results=[],this.ps&&!this.obj){var t=this.target,s=window.getComputedStyle(t),t=t.parentNode.clientHeight,e=this.ps.x||!1,i=this.ps.y||!1,h=this.ps.sx||!1,r=this.ps.sy||!1,a=this.ps.t||!1,l=this.ps.opacity||!1,o=this.ps.pointer||!1,n=this.ps.display||!1;(e||i||h||r)&&this.results.push({name:"transform",cb:g.transform(e,i,h,r,s)}),a&&this.results.push({name:"top",cb:g.top(a,s,t)}),o&&this.results.push({name:"pointerEvents",cb:g.pointer(o)}),n&&this.results.push({name:"display",cb:g.display(n)}),l&&this.results.push({name:"opacity",cb:g.opacity(l,s)})}else if(this.obj)for(var p in this.ps){let t=this.ps[p],s={s:t[0],lerp:t[1]-t[0]};this.results.push({name:p,cb:t=>s.s+s.lerp*t})}}function O(t){let s;return"string"==typeof t?s=document.querySelector(t):(t instanceof window.HTMLElement||"object"==typeof t)&&(s=t),s}var Y=class{constructor(t,s){this.ele=t,this.o=s,this.mode,this.prog=0,this.elp=0,this.played=!1,this.results=[],this.to()}to(){this.target=O(this.ele),this.obj=!(this.target instanceof window.HTMLElement),this.d=this.o.d||.5,this.late=this.o.late,this.ease=c[this.o.ease]||c.l,this.ps=this.o.p,this.keys=this.ps&&Object.keys(this.ps),this.cbO={cb:this.run.bind(this)},this.late=new m({late:this.late,o:this.cbO}),v.call(this)}run(t){this.on=!0,this.st||(this.st=t);t=this.prog+(t-this.st)/(1e3*this.d);if(this.elp=d(0,1,t),this.e=Math.abs(this.dir-this.ease(this.elp)),this.results.map(t=>{var s=t.cb(this.e);this.obj?this.target[t.name]=s:this.target.style[t.name]=s}),this.raf&&this.raf(this.e),1===this.elp)return this.kill()}control(t,s){this.late.on&&this.mode!==t&&(this.mode=t,this.late.kill()),this.mode===t&&!this.obj||("r"===(this.mode=t)?(this.late.cb=null,this.dir=1):(this.dir=0,this.late.cb=this.start),this.late.on)||(this.on?(this.st=null,this.prog=s?0:1-this.elp):this.late.play())}reverse(t){this.late.late=t,this.control("r")}pause(){this.prog=this.elp}resume(){this.st=null,this.late.cb=null,this.late.play()}kill(){return this.completed&&"p"===this.mode&&this.completed(),this.st=null,this.on=!1,!(this.prog=0)}play(t,s){this.start=t.start,this.completed=t.completed,this.raf=t.raf;var e=JSON.stringify(this.ps)!==JSON.stringify(t.p);this.late.late=s||0,e?(this.late.late=t.late,this.d=t.d,this.ease=c[t.ease]||this.ease,this.ps=t.p,v.call(this),this.mode="r",this.control("p",!0)):this.control("p")}},H=Y,S=new C;function q(t,s){let e=S.get(t),i=e;return e||(i=new H(t,s),S.set(t,i)),{reverse:t=>i.reverse(t),pause:()=>i.pause(),resume:()=>i.resume(),play:t=>i.play(t,s.late),item:t,tween:i,obj:s}}function J(t,h){if("object"==typeof t&&t.length){let s=[...t].map((t,s)=>{s=(h.late||0)+(h.stagger||0)*s;return q(t,{...h,late:s})}),i=(s.map(({play:t,obj:s},e)=>{t(0===e?{...s,start:h.start,raf:h.raf,completed:h.completed}:{...s,start:void 0,raf:void 0,completed:void 0})}),s.map(t=>t.tween.late.late));return{reverse:t=>{let e=h.late-t;s.map(({reverse:t},s)=>t(i.reverse()[s]-e))},pause:()=>s.map(({pause:t})=>t()),resume:()=>s.map(({resume:t})=>t()),play:()=>s.map(({play:t})=>t(h))}}return(t=q(t,h)).play(h),t}var y=J;function U(t,s,e,i){var h=this.items[this.id-1],h=(this.late=(s.late||0)+(h?(h.late||0)+h.d:0)+e,y(t,{...s,late:this.late},i));this.items.push({tween:h,late:this.late,addlate:this.late-(s.late||0),d:s.d})}var P=class{constructor(){this.items=[],this.id=-1,this.late=0}to(t,s,e=0){if(t&&s)return++this.id,U.call(this,t,s,e),this}pause(){this.items.map(({tween:t})=>t.pause())}resume(){this.items.map(({tween:t})=>t.resume())}reverse(){this.id=-1,this.items.map(({tween:t,addlate:s})=>{t.reverse(this.late-s)}),this.items=[],this.late=0}},Z=P,R=class{constructor(t,s={}){history.scrollRestoration="manual",this.ease=s.ease||.1,this.dir=s.dir||"y",this.wheelLerp=s.wheelLerp||.2,this.dragLerp=s.dragLerp||.05,this.dragOn=s.drag,this.ele=t,this.lerp={x:0,y:0,lerp:this.ease},this.wheel={x:0,y:0,lerp:this.wheelLerp},this.drag={x:{s:0,e:0,sp:0,ep:0},y:{s:0,e:0,sp:0,ep:0},lerp:this.dragLerp},this.dragOn&&(this.smousedown=l.add("mousedown",this.onMDown.bind(this)),this.smousemove=l.add("mousemove",this.onMM.bind(this)),this.smouseup=l.add("mouseup",this.onMU.bind(this))),this.sresize=l.add("resize",this.Resize.bind(this)),this.swheel=l.add("wheel",this.onWheel.bind(this)),this.sraf=l.add("raf",this.raf.bind(this)),this.rscroll=l.obs("scroll"),this.all=document.getElementById("all"),this.all||(this.all=document.createElement("div"),this.all.id="all",document.body.appendChild(this.all)),this.throttle=new f({late:.3,cb:()=>{this.all.style.pointerEvents="none"}}),this.Resize()}onWheel(t){this.lerp.x+=t.deltaY*this.lerp.lerp,this.lerp.y+=t.deltaY*this.lerp.lerp,this.all.style.pointerEvents="all",this.throttle.run()}onMDown(t){this.drag.y.s=t.pageY,this.drag.x.s=t.pageY,this.down=!0}onMM(t){var s;this.down&&(this.all.style.pointerEvents="all",this.throttle.run(),"y"===this.dir?(this.drag.y.prev=this.drag.y.e,this.drag.y.e=t.pageY,1===this.drag.y.d&&(this.drag.y.sp=this.drag.y.e),-1===this.drag.y.d&&(this.drag.y.ep=this.drag.y.e),s=this.drag.y.e-this.drag.y.s,this.drag.y.d=-1*Math.sign(this.drag.y.prev-this.drag.y.e),-1===this.drag.y.d&&(s=this.drag.y.e-this.drag.y.sp),1===this.drag.y.d&&(s=this.drag.y.e-this.drag.y.ep),this.lerp.y=-1*s*this.drag.lerp+this.lerp.y):(this.drag.x.prev=this.drag.x.e,this.drag.x.e=t.pageX,1===this.drag.x.d&&(this.drag.x.sp=this.drag.x.e),-1===this.drag.x.d&&(this.drag.x.ep=this.drag.x.e),s=this.drag.x.e-this.drag.x.s,this.drag.x.d=-1*Math.sign(this.drag.x.prev-this.drag.x.e),-1===this.drag.x.d&&(s=this.drag.x.e-this.drag.x.sp),1===this.drag.x.d&&(s=this.drag.x.e-this.drag.x.ep),this.lerp.x=-1*s*this.drag.lerp+this.lerp.x))}onMU(){this.down=!1}add(s,e){s&&e||console.error("You need to provide a ele and o");let i,h=(i=s.length?w(s[0]):w(s),l.add(this.scrollId.name,t=>{t=t.y+window.innerHeight;(e.s||0)/100*window.innerHeight+i.top<=t&&(e.o&&y(s,e.o),e.cb&&e.cb(),l.remove(this.scrollId.name,h))}));return h}raf(){this.lerp.x=d(0,this.bounds.width-innerWidth,this.lerp.x),this.lerp.y=d(0,this.bounds.height-innerHeight,this.lerp.y);var t=M(this.wheel.x,this.lerp.x,this.wheel.lerp),s=M(this.wheel.y,this.lerp.y,this.wheel.lerp);this.wheel.x=t,this.wheel.y=s,"y"===this.dir?this.ele.style.transform=`translateY(${-this.wheel.y}px)`:this.ele.style.transform=`translateX(${-this.wheel.x}px)`,this.rscroll.cb(this.wheel)}Resize(){this.bounds=w(this.ele)}destroy(){l.remove("wheel",this.swheel),l.remove("resize",this.sresize),l.remove("raf",this.sraf),this.dragOn&&(l.remove("mousedown",this.smousedown),l.remove("mousemove",this.smousemove),l.remove("mouseup",this.smouseup))}},K=R;export{w as Bounds,d as Clamp,c as Ease,N as Has,m as Late,M as Lerp,W as Mount,x as Raf,I as Round,B as Route,K as Scroll,C as Store,l as Sub,Z as TL,f as Throttle,y as Tween,j as deepCopy};