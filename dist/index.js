var w={l:e=>e,i1:e=>1-Math.cos(e*Math.PI/2),o1:e=>Math.sin(e*Math.PI/2),io1:e=>-(Math.cos(Math.PI*e)-1)/2,i2:e=>Math.pow(e,2),o2:e=>1-(1-e)*(1-e),io2:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,i3:e=>Math.pow(e,3),o3:e=>1-Math.pow(1-e,3),io3:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,i4:e=>Math.pow(e,4),o4:e=>1-Math.pow(1-e,4),io4:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,i5:e=>Math.pow(e,5),o5:e=>1-Math.pow(1-e,5),io5:e=>e<.5?16*Math.pow(e,5):1-Math.pow(-2*e+2,5)/2,i6:e=>0===e?0:Math.pow(2,10*e-10),o6:e=>1===e?1:1-Math.pow(2,-10*e),io6:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,i7:e=>1-Math.sqrt(1-Math.pow(e,2)),o7:e=>sqrt(1-Math.pow(e-1,2)),io7:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},b=(e,s,t)=>Math.min(Math.max(e,t),s),S=(e,s,t)=>(1-t)*e+t*s,X=(e,s)=>{s=s?Math.pow(10,s):100;return Math.round(e*s)/s},m=(e,s)=>window.hasOwnProperty.call(e,s),E=e=>e.getBoundingClientRect(),T=class{constructor(){this.store=new Map}set(e,s){this.store.set(e,s)}get(e){return this.store.get(e)}},x=T,R=class{constructor(){this.subs={}}subF(e){return this.subs[e]={cb:null,items:[]},this.subs[e].cb=function(){var s=Array.prototype.slice.call(arguments);for(let e=0;e<this.items.length;e++)this.items[e].cb(...s)}.bind(this.subs[e]),{cb:this.subs[e].cb,name:e}}subC(e,s){return this.subs[e].items.push({cb:s,id:this.subs[e].items.length+e}),this.subs[e].items.length-1+e}subCR(e,s){var t;null==s.match(e)?console.error(s+" is not in "+e):(t=this.subs[e].items,this.subs[e].items=t.filter(({id:e})=>e!==s))}subCheck(e){return!!this.subs[e]}},p=new R,g=class{constructor({delay:e,cb:s}){this.delay=1e3*e,this.cb=s,this.time=0}run(){clearTimeout(this.time),this.time=setTimeout(this.cb,this.delay)}},M=class{constructor({delay:e,o:s,elapsed:t}){this.delay=e,this.o=s,this.elapsed=t}play(){v.push({completed:this.Elapsed.bind(this),d:this.delay})}Elapsed(){this.o&&v.push(this.o),this.elapsed&&this.elapsed()}},Y=class{constructor(){this.items=[],this.on=!1,this.id=-1}push(e){if("number"==typeof e.id&&this.kill(e.id),"object"==typeof e)return(e=e).id=++this.id,this.items.push(e),this.on||this.loop(),e.id;console.error("Failed To Push Object")}update(s){for(let e=0;e<this.items.length;e++){var t,i=this.items[e];0===i.d&&this.kill(i.id),!i.st&&-1!==i.d&&(i.st=s,i.start)&&i.start(),i.pause?(i.elapsed=i.elapsed?1-i.elapsed:1,i.d=i.paused?i.d:i.elapsed*i.d,i.st=s-i.d*i.elapsed,i.paused=!0):-1===i.d?i.cb(s):0<i.d&&(t=(s-i.st)/(1e3*i.d),i.elapsed=b(0,1,t),i.cb&&i.cb(i.elapsed),1===i.elapsed)&&this.kill(i.id)}this.loop()}kill(t){"number"==typeof t?this.items.map((e,s)=>{e.id===t&&(e.st=0,e.id=null,e.cb&&e.cb(e.elapsed),this.items.splice(s,1),e.completed)&&e.completed()}):console.error("You Need To Pass Number")}loop(){0===this.items.length?(this.on=!1,window.cancelAnimationFrame(this.raf)):(this.on=!0,this.raf=window.requestAnimationFrame(this.update.bind(this)))}},v=new Y,F=class{constructor(){this.cache=new Map}match(e){return e.match(/(?:\w+:)?\/\/[^\/]+([^?#]+)/)}async xhr({url:e,push:s,post:t,isText:i,compile:h}){if(this.cache.get(e))return s&&window.history.pushState({},"",e),{...this.cache.get(e),stored:!0};try{h&&(r=new Request(e,{headers:new Headers({"Content-type":i?"application/x-ww-form-urlencodeed":"text/html"}),method:t?"POST":"GET",mode:"cors"}),o=await fetch(r),a=i?await o.json():await o.text()),s&&window.history.pushState({},"",e);var r,o,a,p=this.match(e),l={url:p?p[1]:e,data:h?a:"",stored:!1};return this.cache.set(e,l),l}catch(e){console.error("Failed To Get The Data",e.message)}}store(e,s){var t=this.match(e),t={url:t?t[1]:e,data:s,stored:!0};this.cache.set(e,t)}},A=new F;function B(e,s){for(var t in s)t.match(/^on/)?e.addEventListener(t.match(/[A-Z](.*)/)[0].toLowerCase(),s[t]):e.setAttribute(t,s[t])}function N(e){let s;return"string"==typeof e||"number"==typeof e?s=document.createTextNode(e):(s=document.createElement(e.type),e.props&&B(s,e.props),e.content&&("string"==typeof e.content||"number"==typeof e.content?s.appendChild(N(e.content)):e.content.map(N).forEach(s.appendChild.bind(s)))),s}function V(e,s={}){return e.appendChild(N(s))}var D=V,G={transform:(s,t,e,i,h,r)=>{let o,a,p,l,n="none"!==h.transform&&h.transform.match(/\((.+)\)$/)[1].split(", ");return a=n?(o={s:"px"===s[1]?+n[4]:+n[4]/parseFloat(h.width)*100,e:s?(s[1],s[0]):0,unit:s[1]||"px"},{s:"px"===t[1]?+n[5]:+n[5]/parseFloat(h.height)*100,e:t?(t[1],t[0]):0,unit:t[1]||"px"}):(o={s:0,e:s[0],unit:s[1]||"px"},{s:0,e:t[0],unit:t[1]||"px"}),p={s:n?+n[0]:1,e:e?e[0]:1},l={s:n?+n[3]:1,e:i?i[0]:1},o.lerp=o.e-o.s,a.lerp=a.e-a.s,p.lerp=p.e-p.s,l.lerp=l.e-l.s,r&&(r.y=a.s,r.x=o.s,r.sy=p.s,r.sx=l.s),s&&t||s.lerp&&t.lerp?e=>{return`translate3d(${s?""+(o.s+o.lerp*e)+o.unit:o.s+o.unit}, ${t?""+(a.s+a.lerp*e)+a.unit:a.s+a.unit}, 0) scale(${""+(p.s+p.lerp*e)}, ${""+(l.s+l.lerp*e)})`}:s?e=>{return`translateX(${""+(o.s+o.lerp*e)+o.unit}) scale(${""+(p.s+p.lerp*e)}, ${""+(l.s+l.lerp*e)})`}:t?e=>{return`translateY(${""+(a.s+a.lerp*e)+a.unit}) scale(${""+(p.s+p.lerp*e)}, ${""+(l.s+l.lerp*e)})`}:void 0},opacity:(e,s,t)=>{let i={s:+s.opacity,e:e[0]};return i.lerp=i.e-i.s,t&&(t.opacity=i.s),e=>""+(i.s+i.lerp*e)},pointer:e=>()=>e,display:e=>()=>e,top:(s,e,t,i)=>{let h={s:"px"===s[1]?parseFloat(e.top):parseFloat(e.top)/t*100,e:s[0]};return h.lerp=h.e-h.s,i.top=h.s,i&&(i.top=h.s),e=>""+(h.s+h.lerp*e)+s[1]}},C=G;function P(e){if(this.results=[],e)for(let s=0;s<this.keys.length;s++){let e=this.keys[s],t=+this.elements[0][this.keys[s]];this.results.push({name:e,cb:(()=>{let s={s:t||this.props[e][0],e:this.props[e][1]};return s.lerp=this.props[e][1]-this.props[e][0],e=>s.s+s.lerp*e})()})}else{var e=!this.reverseOn&&this.startPoint,s=m(this.props,"x")&&this.props.x,t=m(this.props,"y")&&this.props.y,i=m(this.props,"sx")&&this.props.sx,h=m(this.props,"sy")&&this.props.sy,r=m(this.props,"t")&&this.props.t,o=m(this.props,"opacity")&&this.props.opacity,a=m(this.props,"pointer")&&this.props.pointer,p=m(this.props,"display")&&this.props.display,l=this.elements,n=window.getComputedStyle(l),d=l.parentNode.clientHeight;(s||t||i||h)&&this.results.push({name:"transform",element:l,cb:C.transform(s,t,i,h,n,e)}),r&&this.results.push({name:"top",element:l,cb:C.top(r,n,d,e)}),a&&this.results.push({name:"pointerEvents",element:l,cb:C.pointer(a)}),p&&this.results.push({name:"display",element:l,cb:C.display(p)}),o&&this.results.push({name:"opacity",element:l,cb:C.opacity(o,n,e)})}}function L(e){return"string"==typeof e?document.querySelector(e):e instanceof window.HTMLElement||"object"==typeof e?e:void 0}var k=new x;function U(t,i){if(!t.length){let e=k.get(t),s=e||null;return e?JSON.stringify(e.props)!==JSON.stringify(i.p)&&(s.mode=void 0,s.delay.delay=i.delay||e.del,s.ease=w[i.ease]||e.ease,s.d=i.d||e.d,s.completed=i.completed||e.completed,s.play(i.p)):(s=new I(t,i),k.set(t,s),s.play()),{reverse:()=>{s.reverse()},pause:()=>{s.pause()},resume:()=>{s.resume()},items:t}}[...t].map(e=>{let s=k.get(e),t=s||null;return s?JSON.stringify(s.props)!==JSON.stringify(i.p)&&(t.mode=void 0,t.delay.delay=i.delay||s.del,t.ease=w[i.ease]||s.ease,t.d=i.d||s.d,t.completed=i.completed||s.completed,t.play(i.p)):(t=new I(e,i),k.set(e,t),t.play()),{reverse:()=>{t.reverse()},pause:()=>{t.pause()},resume:()=>{t.resume()},item:e}})}var I=class{constructor(e,s,t){this.obj=t,this.element=e,this.o=JSON.parse(JSON.stringify(s)),this.played=!1,this.mode=!1,this.startPoint={},this.to()}to(){this.elements=L(this.element),this.d=this.o.d||.5,this.del=this.o.delay||0,this.completed=this.o.completed||0,this.cbO={cb:this.run.bind(this),d:this.d,completed:this.completed},this.ease=this.o.ease?w[this.o.ease]:w.l,this.props=JSON.parse(JSON.stringify(this.o.p)),this.keys=Object.entries(this.props),this.delay=new M({delay:this.del,o:this.cbO,elapsed:()=>P.call(this,this.obj)})}run(e){this.e=this.ease(e),this.results.map(e=>{var s=e.cb(this.e);this.obj?this.elements[0][e.name]=s:e.element.style[e.name]=s})}reverse(){for(let e=0;e<this.keys.length;e++)this.props[this.keys[e][0]]=[this.startPoint[this.keys[e][0]],this.keys[e][1][1]];this.reverseOn=!0,"reverse"!==this.mode&&(this.mode="reverse",this.delay.play())}pause(){this.delay.o.pause=!0}resume(){this.delay.o.pause=!1}destroy(){}play(e){this.props=JSON.parse(JSON.stringify(e||this.o.p)),this.delay.o.cb=this.run.bind(this),this.delay.o.d=this.d,this.delay.o.completed=this.completed,"play"!==this.mode&&(this.delay.play(),this.mode="play")}},$=U;function W(r){this.selector.map(({element:e,o:i,time:s=0},t)=>{var h;e.length?[...e].map((e,s)=>{var t;0===s?(t=$(e,i,r),this.items.push({tween:t,o:i})):(t=(i.delay||0)+(i.stagger||0)*s,s=$(e,{...i,delay:t},r),this.items.push({tween:s,o:i}))}):0===t?(h=$(e,i,r),this.items.push({tween:h,o:i})):(h=this.items[t-1].o.d||0,t=(this.items[t-1].o.delay||0)+h+(i.delay||0)+s,h={...i,delay:t},s=$(e,h,r),this.items.push({tween:s,o:h}))})}function Z(e,s,t){let i=!1;i=!("object"!=typeof e||e.length||e instanceof HTMLElement),this.selector.push({element:e,o:s,time:t}),W.call(this,i)}var q=Z,H=class{constructor(){this.items=[],this.reverseItems=[],this.selector=[],this.played=!1}to(e,s,t=0){if(e&&s)return q.call(this,e,s,t),this;console.error(e?"You need to pass Object":"You need to pass Element")}pause(){this.items.map(e=>{e.tween.pause()})}resume(){this.items.map(e=>{e.tween.resume()})}reverse(){this.items.reverse().map(e=>{e.tween.reverse()}),this.items=[]}},J=H,j=class{constructor(e,{ease:s=.1,wheelLerp:t=.1,drag:i=!0,dragLerp:h=.05}={}){history.scrollRestoration="manual",this.ele=e,this.lerp={x:0,y:0,lerp:s},this.wheel={x:0,y:0,lerp:t},this.drag={s:0,e:0,sp:0,ep:0,lerp:h,on:!1},p.subCheck("wheel")||window.addEventListener("wheel",p.subF("wheel").cb),i&&(p.subCheck("mousedown")||window.addEventListener("mousedown",p.subF("mousedown").cb),p.subCheck("mousemove")||window.addEventListener("mousemove",p.subF("mousemove").cb),p.subCheck("mouseup")||window.addEventListener("mouseup",p.subF("mouseup").cb),this.mdId=p.subC("mousedown",this.onMDown.bind(this)),this.mmId=p.subC("mousemove",this.onMM.bind(this)),this.muId=p.subC("mouseup",this.onMU.bind(this))),this.Bounds(),p.subCheck("raf")||v.push({d:-1,cb:p.subF("raf").cb}),this.wId=p.subC("wheel",this.onWheel.bind(this)),this.rafId=p.subC("raf",this.raf.bind(this)),this.ScrollId=p.subF("scroll"),this.all=document.getElementById("all"),this.all||(this.all=document.createElement("div"),this.all.id="all",document.body.appendChild(this.all)),this.thr=new g({delay:.4,cb:()=>{this.all.style.pointerEvents="none"}})}Bounds(){this.bounds=E(this.ele)}onWheel(e){this.lerp.x+=e.deltaX*this.lerp.lerp,this.lerp.y+=e.deltaY*this.lerp.lerp,this.all.style.pointerEvents="all",this.thr.run()}onMDown(e){this.drag.s=e.pageY,this.drag.on=!0}onMM(e){this.drag.on&&(this.drag.prev=this.drag.e,this.drag.e=e.pageY,1===this.drag.d&&(this.drag.sp=this.drag.e),-1===this.drag.d&&(this.drag.ep=this.drag.e),e=this.drag.e-this.drag.s,this.drag.d=-1*Math.sign(this.drag.prev-this.drag.e),-1===this.drag.d&&(e=this.drag.e-this.drag.sp),1===this.drag.d&&(e=this.drag.e-this.drag.ep),this.lerp.y=-1*e*this.drag.lerp+this.lerp.y,this.all.style.pointerEvents="all",this.thr.run())}onMU(){this.drag.on=!1}add(e,t){e&&t||console.error("You need to provide a ele and o"),Array.isArray(e)?this.elements=e:this.elements=[e];var i=E(e),h=t.tw,r=p.subC(this.ScrollId.name,e=>{var s,e=e.y+window.innerHeight;t.s/100*window.innerHeight+i.top<=e&&(s=new J,this.elements.map(e=>{s.to(e,h),s.play()}),p.subCR(this.ScrollId.name,r))});return r}raf(){this.lerp.x=b(0,this.bounds.width,this.lerp.x),this.lerp.y=b(0,this.bounds.height-window.innerHeight,this.lerp.y),this.wheel.x=S(this.wheel.x,this.lerp.x,this.wheel.lerp),this.wheel.y=S(this.wheel.y,this.lerp.y,this.wheel.lerp),this.ele.style.transform=`translateY(${-this.wheel.y}px)`,this.ScrollId.cb(this.wheel)}destroy(){p.subCR("wheel",this.wId),this.mdId&&p.subCR("mousedown",this.mdId),this.mmId&&p.subCR("mousemove",this.mmId),this.muId&&p.subCR("mouseup",this.muId),p.subCR("raf",this.rafId)}},z=j;export{E as Bounds,b as Clamp,M as Delay,w as Ease,m as Has,S as Lerp,D as Mount,v as Raf,X as Round,A as Route,z as Scroll,x as Store,p as Sub,J as TL,g as Throttle,$ as Tween};